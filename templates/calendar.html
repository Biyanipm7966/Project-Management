<link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.css' rel='stylesheet' />
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.10.1/main.min.js'></script>

<div id="calendar"></div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            events: [
                {% if session.get('events') %}
                    {% for event in session['events'] %}
                    {
                        title: "{{ event['title'] | safe }}",
                        start: "{{ event['date'] | safe }}"
                    }{% if not loop.last %},{% endif %}
                    {% endfor %}
                {% endif %}
            ]
        });
        calendar.render();
    });
</script>

<form method="POST">
    <label for="title">Event Title</label>
    <input type="text" name="title" id="title" required><br>

    <label for="date">Event Date</label>
    <input type="date" name="date" id="date" required><br>

    <input type="submit" value="Add Event">
</form>
